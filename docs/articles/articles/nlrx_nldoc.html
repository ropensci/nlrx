<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NetLogo documentation with nlrx • nlrx | NetLogo from R</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="NetLogo documentation with nlrx">
<meta property="og:description" content="nlrx">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">nlrx | NetLogo from R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../articles/getstarted.html">
    <span class="fa fa fa fa-magic"></span>
     
    Get Started
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/simdesign-examples.html">
        <span class="fa fa-book"></span>
         
        Simdesign examples
      </a>
    </li>
    <li>
      <a href="../../articles/furthernotes.html">
        <span class="fa fa-book"></span>
         
        Advanced configuration
      </a>
    </li>
    <li>
      <a href="../../articles/sensitivity.html">
        <span class="fa fa-sticky-note"></span>
         
        Sensitivity Analysis with nlrx
      </a>
    </li>
    <li>
      <a href="../../articles/optimization.html">
        <span class="fa fa-sticky-note"></span>
         
        Optimization with nlrx
      </a>
    </li>
    <li>
      <a href="../../articles/abc.html">
        <span class="fa fa-sticky-note"></span>
         
        Approximate Bayesian Computation (ABC) with nlrx
      </a>
    </li>
    <li>
      <a href="../../articles/articles/spatial-output.html">
        <span class="fa fa-book"></span>
         
        Capturing spatial NetLogo output
      </a>
    </li>
    <li>
      <a href="../../articles/articles/interfacing-different-models.html">
        <span class="fa fa-book"></span>
         
        Interfacing a variety of different NetLogo models
      </a>
    </li>
    <li>
      <a href="../../articles/articles/nlrx_nldoc.html">
        <span class="fa fa-book"></span>
         
        NetLogo documentation with nlrx
      </a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../../reference/index.html">
    <span class="fa fa-gears"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/ropensci/nlrx">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="nlrx_nldoc_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>NetLogo documentation with nlrx</h1>
                        <h4 class="author">Jan Salecker</h4>
            
            <h4 class="date">2020-09-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/nlrx/blob/master/vignettes/articles/nlrx_nldoc.Rmd"><code>vignettes/articles/nlrx_nldoc.Rmd</code></a></small>
      <div class="hidden name"><code>nlrx_nldoc.Rmd</code></div>

    </div>

    
    
<div id="nldoc" class="section level1">
<h1 class="hasAnchor">
<a href="#nldoc" class="anchor"></a>nldoc</h1>
<p>The <code>nldoc</code> function within nlrx can be used to create NetLogo documentations using R. The function searches NetLogo model files for Markdown headers. The documentation can be created in different formats (html, pdf, docx) and styles. There are also utility functions, such as creation of a procedure network (<code><a href="../../reference/nldoc_network.html">nldoc_network()</a></code>).</p>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div id="model-documentation" class="section level4">
<h4 class="hasAnchor">
<a href="#model-documentation" class="anchor"></a>Model documentation</h4>
<p>In order to create NetLogo model documentations with nlrx, documentation tags need to be added to the NetLogo model. These tags are very similar to roxygen documentation tags and are called noxygen tags for the purpose of this package. Noxygen tags are organized in three main groups:</p>
<ul>
<li>General model information
<ul>
<li>`<span class="citation">@model</span> Defines the title for the model documentation</li>
<li>`<span class="citation">@author</span> Defines author of the model (multiple author tags can be used to define several authors)</li>
</ul>
</li>
<li>Global definitions
<ul>
<li>`<span class="citation">@global</span> Defines the name of a global definitions (e.g. globals, patches-owns, breeds, …)</li>
<li>`<span class="citation">@details</span> Further description of the global definition (multi line: each further line needs to start with details tag)</li>
<li>`<span class="citation">@code</span> TRUE/FALSE if following code should be included in the documentation</li>
</ul>
</li>
<li>Procedures
<ul>
<li>`<span class="citation">@procedure</span> Defines the name of a model procedure</li>
<li>`<span class="citation">@param</span> Defines a parameter that needs to be provided for the function call</li>
<li>`<span class="citation">@return</span> Description of the return value (in case of to-report functions)</li>
<li>`<span class="citation">@details</span> Further description of the model procedure (multi line: each further line needs to start with details tag)</li>
<li>`<span class="citation">@code</span> TRUE/FALSE if following code should be included in the documentation</li>
</ul>
</li>
</ul>
<p>For example, the start of a NetLogo model file with noxygen code could look like this:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r">;`@model Wolf Sheep Predation (NetLogo models library)
;`@author Uri Wilenski

;`@global Subfiles
;`@details We included a subilfe to the wolf sheep model to demonstrate that nls files are supported by nldoc
;`@code TRUE
__includes["Wolf Sheep Predation Extra.nls"]

;`@global Global variables
;`@details There is only one global variable that stores the max number of sheep allowed
;`@code TRUE
globals [ max-sheep ]  ; dont let sheep population grow too large

;`@global Breeds
;`@details There are two breeds: sheep and wolves
;`@code TRUE
breed [ sheep a-sheep ]  ; sheep is its own plural, so we use "a-sheep" as the singular.
breed [ wolves wolf ]

;`@global Agent properties
;`@details Sheep and wolves have a energy variable. Patches have a countdown variable to store the current state of the grass regrowth countdown.
;`@code TRUE
turtles-own [ energy ]       ; both wolves and sheep have energy
patches-own [ countdown ]

;`@procedure Setup
;`@details The setup procedure first resets the model.
;`@details Depending on the chosen model version, grass patches are initialized.
;`@details Finally, wolves and sheep are created.
;`@code FALSE
to setup
  ...
end</pre></body></html></div>
<p>One, or more model files containing noxygen tags, can be used to call the <code>nldoc</code> function of the nlrx package. The procedure creates a markdown file and renders the documentation in the specified output. As an example, we added noxygen tags to the Wolf Sheep model from the NetLogo models library. These modified model files are hosted on github. We use these files to render a documentation in html. Example output: <a href="nlrx_nldocumentation.html">nldoc documentation</a></p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># Load nlrx:</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">nlrx</span>)
<span class="no">outpath</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>()

<span class="co"># List model files (.nls subfiles are also supported)</span>
<span class="no">modelfiles</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nlogo"</span>,
                <span class="st">"https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nls"</span>)



<span class="co">## Create documentation:</span>
<span class="co"># Themes: "journal", "cerulean", "flatly", "readable", "spacelab", "united", "cosmo"</span>
<span class="co"># output_format: "pdf "html" "docx"</span>
<span class="fu"><a href="../../reference/nldoc.html">nldoc</a></span>(<span class="kw">modelfiles</span> <span class="kw">=</span> <span class="no">modelfiles</span>,
      <span class="kw">infotab</span><span class="kw">=</span><span class="fl">TRUE</span>,
      <span class="kw">gui</span><span class="kw">=</span><span class="fl">TRUE</span>,
      <span class="kw">bs</span><span class="kw">=</span><span class="fl">TRUE</span>,
      <span class="kw">outpath</span> <span class="kw">=</span> <span class="no">outpath</span>,
      <span class="kw">output_format</span> <span class="kw">=</span> <span class="st">"html"</span>,
      <span class="kw">number_sections</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
      <span class="kw">theme</span> <span class="kw">=</span> <span class="st">"cosmo"</span>,
      <span class="kw">date</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/date.html">date</a></span>(),
      <span class="kw">toc</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
</div>
<div id="model-procedure-network" class="section level4">
<h4 class="hasAnchor">
<a href="#model-procedure-network" class="anchor"></a>Model procedure network</h4>
<p>Another useful function of the nlrx package is the creation of model procedure graphs (<code><a href="../../reference/nldoc_network.html">nldoc_network()</a></code>). This function can be used for any NetLogo model, even if the code does not contain noxygen tags.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="co"># Load nlrx:</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">nlrx</span>)

<span class="co"># List model files (.nls subfiles are also supported)</span>
<span class="no">modelfiles</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nlogo"</span>,
                <span class="st">"https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nls"</span>)


<span class="co">## Determine the function network with nldoc:</span>
<span class="no">nw</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../../reference/nldoc_network.html">nldoc_network</a></span>(<span class="no">modelfiles</span>)

<span class="co">## Determine communities within the network and plot using Igraph package:</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">igraph</span>)
<span class="no">com</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/cluster_walktrap.html">walktrap.community</a></span>(<span class="no">nw</span>)
<span class="fu"><a href="https://rdrr.io/pkg/igraph/man/V.html">V</a></span>(<span class="no">nw</span>)$<span class="no">community</span> <span class="kw">&lt;-</span> <span class="no">com</span>$<span class="no">membership</span>
<span class="no">rain</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">rainbow</a></span>(<span class="fl">14</span>, <span class="kw">alpha</span><span class="kw">=</span><span class="fl">.5</span>)
<span class="fu"><a href="https://rdrr.io/pkg/igraph/man/V.html">V</a></span>(<span class="no">nw</span>)$<span class="no">color</span> <span class="kw">&lt;-</span> <span class="no">rain</span>[<span class="fu"><a href="https://rdrr.io/pkg/igraph/man/V.html">V</a></span>(<span class="no">nw</span>)$<span class="no">community</span>]

<span class="fu"><a href="https://rdrr.io/r/base/plot.html">plot</a></span>(<span class="no">nw</span>,
     <span class="kw">edge.arrow.size</span><span class="kw">=</span><span class="fl">1</span>,
     <span class="kw">vertex.label.color</span><span class="kw">=</span><span class="st">"black"</span>,
     <span class="kw">vertex.label.dist</span><span class="kw">=</span><span class="fl">2.5</span>,
     <span class="kw">vertex.size</span><span class="kw">=</span><span class="fl">10</span>,
     <span class="kw">edge.curved</span><span class="kw">=</span><span class="fl">0</span>,
     <span class="kw">vertex.label.cex</span><span class="kw">=</span><span class="fl">1.5</span>,
     <span class="kw">layout</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/layout_with_fr.html">layout_with_fr</a></span>(<span class="no">nw</span>, <span class="kw">niter</span> <span class="kw">=</span> <span class="fl">2000</span>))

<span class="co">## Interactive plot using igraph::tkplot</span>
<span class="fu"><a href="https://rdrr.io/pkg/igraph/man/tkplot.html">tkplot</a></span>(<span class="no">nw</span>, <span class="kw">layout</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/layout_with_fr.html">layout_with_fr</a></span>(<span class="no">nw</span>, <span class="kw">niter</span> <span class="kw">=</span> <span class="fl">2000</span>))</pre></body></html></div>
<center>
<img src="nldoc_network.png" align="center" width="75%">
</center>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jan Salecker, Marco Sciaini.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
